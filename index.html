<!DOCTYPE HTML>
<html>
<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
  <head><title>#Brony4lyfe</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script src="https://dl.dropbox.com/u/25059665/HSVtoRGB.js"></script>
<script src="https://dl.dropbox.com/u/25059665/jquery.corner.js"></script>
<style>
body {
background-image: url("brony.jpg");
}
  h1{
font-size: 24pt;
}
  img{
    width: 75px;
  }
body {
}

img { width: 100%; height: 100% }

  marquee{
    color: red;
  }
  button{
    width: 90%;
    height: 80%;
    font-size: 50pt;
  }

 .blink_me {
  animation: blinker 1s linear infinite; text-align: center; color: red;
}

@keyframes blinker {
  50% { opacity: 100; color: rgb(154, 255, 104);}
}

.snowflake {
  color: #fff;
  font-size: 1em;
  font-family: Arial;
  text-shadow: 0 0 1px #000;
  width: 150px;
  z-index:-1;
}

@-webkit-keyframes snowflakes-fall{0%{top:-150px}100%{top:100%}}@-webkit-keyframes snowflakes-shake{0%{-webkit-transform:translateX(0px);transform:translateX(0px)}50%{-webkit-transform:translateX(80px);transform:translateX(80px)}100%{-webkit-transform:translateX(0px);transform:translateX(0px)}}@keyframes snowflakes-fall{0%{top:-150px}100%{top:100%}}@keyframes snowflakes-shake{0%{transform:translateX(0px)}50%{transform:translateX(80px)}100%{transform:translateX(0px)}}.snowflake{position:fixed;top:-150px;z-index:-1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;-webkit-animation-name:snowflakes-fall,snowflakes-shake;-webkit-animation-duration:10s,3s;-webkit-animation-timing-function:linear,ease-in-out;-webkit-animation-iteration-count:infinite,infinite;-webkit-animation-play-state:running,running;animation-name:snowflakes-fall,snowflakes-shake;animation-duration:10s,3s;animation-timing-function:linear,ease-in-out;animation-iteration-count:infinite,infinite;animation-play-state:running,running}.snowflake:nth-of-type(0){left:1%;-webkit-animation-delay:0s,0s;animation-delay:0s,0s}.snowflake:nth-of-type(1){left:10%;-webkit-animation-delay:1s,1s;animation-delay:1s,1s}.snowflake:nth-of-type(2){left:20%;-webkit-animation-delay:6s,.5s;animation-delay:6s,.5s}.snowflake:nth-of-type(3){left:30%;-webkit-animation-delay:4s,2s;animation-delay:4s,2s}.snowflake:nth-of-type(4){left:40%;-webkit-animation-delay:2s,2s;animation-delay:2s,2s}.snowflake:nth-of-type(5){left:50%;-webkit-animation-delay:8s,3s;animation-delay:8s,3s}.snowflake:nth-of-type(6){left:60%;-webkit-animation-delay:6s,2s;animation-delay:6s,2s}.snowflake:nth-of-type(7){left:70%;-webkit-animation-delay:2.5s,1s;animation-delay:2.5s,1s}.snowflake:nth-of-type(8){left:80%;-webkit-animation-delay:1s,0s;animation-delay:1s,0s}.snowflake:nth-of-type(9){left:90%;-webkit-animation-delay:3s,1.5s;animation-delay:3s,1.5s}

</style>
</head><body>

<audio src="brony.mp3" autoplay loop volume="1.0"></audio>

<div class="snowflakes" aria-hidden="true">
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
  <div class="snowflake">
  <img src="brony-small.jpeg">
  </div>
</div>


<h1 class="blink_me" >#Brony4lyfe #ILoveUnicorns</h1>

<div id="bottom"> <img src="brony-small.jpeg"></div>
<div id="top"> <img src="brony-small.jpeg"></div>
<div id="front"> <img src="brony-small.jpeg"></div>
<div id="back"> <img src="brony-small.jpeg"></div>
<div id="right" > <img src="brony-small.jpeg"></div>
<div id="left"> <img src="brony-small.jpeg"></div>
      <script>
var num = Math.PI / 25;
$(document).ready(function() {
    var blah = Math.min($(window).height(), $(window).width())
  console.log(blah);
    var length = blah /2;
    var width = blah/2;
    var height = blah/2;
    var brickCenter = [$(window).width()/2, $(window).height()/2]

    var lightVector = [[1 / Math.sqrt(3)], [1 / Math.sqrt(3)], [1 / Math.sqrt(3)]];
    var cubeColor = 100;
    var colorVar1 = 50;
    var colorVar2 = 35;
    var alpha = 1.0;
    draw();

    setInterval(draw, 50);

    function draw() {
        num += Math.PI / 10;

        var qx = Math.PI / 6 - (0.5 * num % (2 * Math.PI));
        var qy = Math.PI / 6 + (num % (2 * Math.PI));
        var rotationMatrix = rotationMatrixCalc(qx, qy);
        var baseReferanceFrameX = [[1], [0], [0]],
            baseReferanceFrameY = [[0], [1], [0]],
            baseReferanceFrameZ = [[0], [0], [1]];

        //---Cube---
        drawRectangularSurface("front", brickCenter, [[0], [0], [length / 2]], height, width, [[1], [0], [0]], [[0], [1], [0]], qx, qy, cubeColor, lightVector);
        drawRectangularSurface("right", brickCenter, [[width / 2], [0], [0]], height, length, [[0], [0], [-1]], [[0], [1], [0]], qx, qy, cubeColor, lightVector);
        drawRectangularSurface("top", brickCenter, [[0], [height / 2], [0]], length, width, [[1], [0], [0]], [[0], [0], [-1]], qx, qy, cubeColor, lightVector);
        drawRectangularSurface("back", brickCenter, [[0], [0], [-length / 2]], height, width, [[-1], [0], [0]], [[0], [1], [0]], qx, qy, cubeColor, lightVector);
        drawRectangularSurface("left", brickCenter, [[-width / 2], [0], [0]], height, length, [[0], [0], [1]], [[0], [1], [0]], qx, qy, cubeColor, lightVector);
        drawRectangularSurface("bottom", brickCenter, [[0], [-height / 2], [0]], length, width, [[1], [0], [0]], [[0], [0], [1]], qx, qy, cubeColor, lightVector);
        //--- Functions ---

        function drawDimensionLine(dimensionID, rotationPoint2D, firstPoint3D, secondPoint3D, direction3D, offset, viewAngleX, viewAngleY, lineColor, lineThickness) {
            direction3D = vectorNorm(direction3D);
            var direction3D_2 = vectorNorm(vectorAdd(secondPoint3D, vectorNeg(firstPoint3D)));
            var arrowDirection1 = vectorAdd(matrixMultiply(direction3D, [[offset / 20]]), matrixMultiply(direction3D_2, [[offset / 5]]));
            var arrowDirection2 = vectorAdd(matrixMultiply(direction3D, [[-offset / 20]]), matrixMultiply(direction3D_2, [[offset / 5]]));
            var P1 = vectorAdd(firstPoint3D, matrixMultiply(direction3D, [[offset]])),
                P2 = vectorAdd(secondPoint3D, matrixMultiply(direction3D, [[offset]]));
            drawLine3D(dimensionID + "_point1", rotationPoint2D, P1, P2, viewAngleX, viewAngleY, lineColor, lineThickness);
            drawLine3D(dimensionID + "_point4", rotationPoint2D, P1, vectorAdd(P1, arrowDirection1), viewAngleX, viewAngleY, lineColor, lineThickness);
            drawLine3D(dimensionID + "_point5", rotationPoint2D, P1, vectorAdd(P1, arrowDirection2), viewAngleX, viewAngleY, lineColor, lineThickness);
            drawLine3D(dimensionID + "_point6", rotationPoint2D, P2, vectorAdd(P2, vectorNeg(arrowDirection1)), viewAngleX, viewAngleY, lineColor, lineThickness);
            drawLine3D(dimensionID + "_point7", rotationPoint2D, P2, vectorAdd(P2, vectorNeg(arrowDirection2)), viewAngleX, viewAngleY, lineColor, lineThickness);
            if (!$("#" + dimensionID).length) {
                $("body").append("<input id='" + dimensionID + "' type='text'/>");
            }
            drawLine3D(dimensionID + "_point2", rotationPoint2D, firstPoint3D, vectorAdd(firstPoint3D, matrixMultiply(direction3D, [[1.3 * offset]])), viewAngleX, viewAngleY, lineColor, lineThickness);
            drawLine3D(dimensionID + "_point3", rotationPoint2D, secondPoint3D, vectorAdd(secondPoint3D, matrixMultiply(direction3D, [[1.3 * offset]])), viewAngleX, viewAngleY, lineColor, lineThickness);
            var inputBoxCenter = drawPoint3D("N/A", brickCenter, vectorAdd(matrixMultiply(vectorAdd(firstPoint3D, secondPoint3D), [[0.5]]), matrixMultiply(direction3D, [[offset]])), viewAngleX, viewAngleY, "N/A", 0, false);
            var textBoxHeight = $("#" + dimensionID).css("height") == "auto" ? 16 : $("#" + dimensionID).css("height").substring(0, $("#" + dimensionID).css("height").length - 2);
            $("#" + dimensionID).attr("style", "width: 50px; position: absolute; left: " + (inputBoxCenter[0] - 50 / 2) + "px; top: " + Math.round(inputBoxCenter[1] - textBoxHeight / 2 - lineThickness) + "px;");
        }

        function drawPoint3D(pointID, rotationPoint2D, centerPoint3D, viewAngleX, viewAngleY, pointColor, pointSize, Show_true_false) {
            if (!$("#" + pointID).length) {
                $("body").append("<div id='" + pointID + "'></div>");
            }
            var rotationMatrix = rotationMatrixCalc(viewAngleX, viewAngleY);
            var placementX = rotationPoint2D[0] + matrixMultiply(rotationMatrix, centerPoint3D)[0][0] - pointSize / 2;
            var placementY = rotationPoint2D[1] - matrixMultiply(rotationMatrix, centerPoint3D)[1][0] - pointSize / 2;
            if (Show_true_false === true) {
                $("#" + pointID).attr("style", "height: " + pointSize + "px; width: " + pointSize + "px; background-color:" + pointColor + ";" + "position: absolute; left: " + placementX + "px; top: " + placementY + "px;");
                $("#" + pointID).corner(Math.round(pointSize / 2) + "px");
            }
            else {
                return [placementX, placementY];
            }
        }

        function drawLine3D(lineID, rotationPoint2D, point1, point2, viewAngleX, viewAngleY, lineColor, lineThickness) {
            if (!$("#" + lineID).length) {
                $("body").append("<div id='" + lineID + "'></div>");
            }
            var rotationMatrix = rotationMatrixCalc(viewAngleX, viewAngleY);
            point1 = matrixMultiply(rotationMatrix, point1);
            point2 = matrixMultiply(rotationMatrix, point2);
            var centerPoint = [(point1[0][0] + point2[0][0]) / 2, (point1[1][0] + point2[1][0]) / 2];
            var angle = Math.atan2((point2[1][0] - point1[1][0]), (point2[0][0] - point1[0][0]));
            var rotationMatrix2D = [[Math.cos(angle), -Math.sin(angle)], [Math.sin(angle), Math.cos(angle)]];
            var length = Math.sqrt(Math.pow(point2[0][0] - point1[0][0], 2) + Math.pow(point2[1][0] - point1[1][0], 2));
            var placementX, placementY;
            if ($.browser.msie && $.browser.version < 9) {
                var P1 = matrixMultiply(rotationMatrix2D, [[length / 2], [lineThickness / 2]]);
                var P2 = matrixMultiply(rotationMatrix2D, [[length / 2], [-lineThickness / 2]]);
                placementX = rotationPoint2D[0] + centerPoint[0] - Math.max(Math.abs(P1[0][0]), Math.abs(P2[0][0]));
                placementY = rotationPoint2D[1] - centerPoint[1] - Math.max(Math.abs(P1[1][0]), Math.abs(P2[1][0]));
                $("#" + lineID).attr("style", "display: block; height: " + lineThickness + "px; width: " + length + "px;" + "background-color: " + lineColor + ";" + "filter: progid:DXImageTransform.Microsoft.Matrix(sizingMethod = 'auto expand', M11 = " + rotationMatrix2D[0][0] + ", M12 = " + (-rotationMatrix2D[0][1]) + ", M21 = " + (-rotationMatrix2D[1][0]) + ", M22 = " + rotationMatrix2D[1][1] + ");" + "position: absolute; left: " + placementX + "px; top: " + placementY + "px;");
            }
            else {
                placementX = rotationPoint2D[0] + centerPoint[0] - length / 2;
                placementY = rotationPoint2D[1] - centerPoint[1] - lineThickness / 2;
                $("#" + lineID).attr("style", "display: block; height: " + lineThickness + "px; width: " + length + "px;" + "background-color: " + lineColor + ";" + "-webkit-transform: matrix(" + roundTo(rotationMatrix2D[0][0], 5) + "," + (-roundTo(rotationMatrix2D[1][0], 5)) + "," + (-roundTo(rotationMatrix2D[0][1], 5)) + "," + roundTo(rotationMatrix2D[1][1], 5) + ",0,0);" + "-moz-transform: matrix(" + roundTo(rotationMatrix2D[0][0], 5) + "," + (-roundTo(rotationMatrix2D[1][0], 5)) + "," + (-roundTo(rotationMatrix2D[0][1], 5)) + "," + roundTo(rotationMatrix2D[1][1], 5) + ",0,0);" + "-ms-transform: matrix(" + roundTo(rotationMatrix2D[0][0], 5) + "," + (-roundTo(rotationMatrix2D[1][0], 5)) + "," + (-roundTo(rotationMatrix2D[0][1], 5)) + "," + roundTo(rotationMatrix2D[1][1], 5) + ",0,0);" + "-o-transform: matrix(" + roundTo(rotationMatrix2D[0][0], 5) + "," + (-roundTo(rotationMatrix2D[1][0], 5)) + "," + (-roundTo(rotationMatrix2D[0][1], 5)) + "," + roundTo(rotationMatrix2D[1][1], 5) + ",0,0);" + "position: absolute; left: " + placementX + "px; top: " + placementY + "px;");
            }
        }

        function drawRectangularSurface(surfaceID, rotationPoint2D, centerPoint3D, height, width, directionX, directionY, viewAngleX, viewAngleY, surfColor, lightVector) {
            if (!$("#" + surfaceID).length) {
                $("body").append("<div id='" + surfaceID + "'></div>");
            }
            var rotationMatrix = rotationMatrixCalc(viewAngleX, viewAngleY);
            directionX = matrixMultiply(rotationMatrix, vectorNorm(directionX));
            directionY = matrixMultiply(rotationMatrix, vectorNorm(directionY));
            directionZ = vectorCross3D(directionX, directionY);
            var baseReferanceFrameX = [[1], [0], [0]],
                baseReferanceFrameY = [[0], [1], [0]],
                baseReferanceFrameZ = [[0], [0], [1]];
            surfaceMatrix = [[vectorDot(baseReferanceFrameX, directionX), vectorDot(baseReferanceFrameX, directionY), vectorDot(baseReferanceFrameX, directionZ)],
                                                                                        [vectorDot(baseReferanceFrameY, directionX), vectorDot(baseReferanceFrameY, directionY), vectorDot(baseReferanceFrameY, directionZ)],
                                                                                        [vectorDot(baseReferanceFrameZ, directionX), vectorDot(baseReferanceFrameZ, directionY), vectorDot(baseReferanceFrameZ, directionZ)]];
            centerPoint3D = matrixMultiply(rotationMatrix, centerPoint3D);
            var lightAngle = 50 + 35 * vectorDot(vectorNorm(lightVector), vectorNorm(directionZ));
            var placementX, placementY;
            if (directionZ[2][0] > 0) {
                if ($.browser.msie && $.browser.version < 9) {
                    var P1 = matrixMultiply(surfaceMatrix, [[width / 2], [height / 2], [0]]);
                    var P2 = matrixMultiply(surfaceMatrix, [[width / 2], [-height / 2], [0]]);
                    placementX = rotationPoint2D[0] + centerPoint3D[0][0] - Math.max(Math.abs(P1[0][0]), Math.abs(P2[0][0]));
                    placementY = rotationPoint2D[1] - centerPoint3D[1][0] - Math.max(Math.abs(P1[1][0]), Math.abs(P2[1][0]));
                    $("#" + surfaceID).attr("style", "height: " + height + "px; width: " + width + "px;" + "background-color: " + "rgb(" + hsvToRgb(surfColor, 100, lightAngle) + ");" + "filter: progid:DXImageTransform.Microsoft.Matrix(sizingMethod = 'auto expand', M11 = " + surfaceMatrix[0][0] + ", M12 = " + (-surfaceMatrix[0][1]) + ", M21 = " + (-surfaceMatrix[1][0]) + ", M22 = " + surfaceMatrix[1][1] + ");" + "position: absolute; left: " + placementX + "px; top: " + placementY + "px;");
                }
                else {
                    placementX = rotationPoint2D[0] + centerPoint3D[0][0] - width / 2;
                    placementY = rotationPoint2D[1] - centerPoint3D[1][0] - height / 2;
                    $("#" + surfaceID).attr("style", "height: " + height + "px; width: " + width + "px;" + "background-color: hsla(" + surfColor + ",100%," + lightAngle + "%," + alpha + ");" + "-webkit-transform: matrix(" + roundTo(surfaceMatrix[0][0], 5) + "," + (-roundTo(surfaceMatrix[1][0], 5)) + "," + (-roundTo(surfaceMatrix[0][1], 5)) + "," + roundTo(surfaceMatrix[1][1], 5) + ",0,0);" + "-moz-transform: matrix(" + roundTo(surfaceMatrix[0][0], 5) + "," + (-roundTo(surfaceMatrix[1][0], 5)) + "," + (-roundTo(surfaceMatrix[0][1], 5)) + "," + roundTo(surfaceMatrix[1][1], 5) + ",0,0);" + "-ms-transform: matrix(" + roundTo(surfaceMatrix[0][0], 5) + "," + (-roundTo(surfaceMatrix[1][0], 5)) + "," + (-roundTo(surfaceMatrix[0][1], 5)) + "," + roundTo(surfaceMatrix[1][1], 5) + ",0,0);" + "-o-transform: matrix(" + roundTo(surfaceMatrix[0][0], 5) + "," + (-roundTo(surfaceMatrix[1][0], 5)) + "," + (-roundTo(surfaceMatrix[0][1], 5)) + "," + roundTo(surfaceMatrix[1][1], 5) + ",0,0);" + "position: absolute; left: " + placementX + "px; top: " + placementY + "px;");
                }
            }
            else {
                $("#" + surfaceID).css({"position": "absolute", "left": "-9999px"});
            }
        }

        function rotationMatrixCalc(qx, qy) {
            var A = [[1, 0, 0], [0, Math.cos(qx), -Math.sin(qx)], [0, Math.sin(qx), Math.cos(qx)]];
            var B = [[Math.cos(qy), 0, -Math.sin(qy)], [0, 1, 0], [Math.sin(qy), 0, Math.cos(qy)]];
            var rotationMatrix = matrixMultiply(A, B);
            return rotationMatrix;
        }

        function matrixMultiply(A, B) {
            var C = new Array(A.length);
            for (var i = 0; i < A.length; i++) {
                C[i] = new Array(B[0].length);
                for (var j = 0; j < B[0].length; j++) {
                    C[i][j] = 0;
                    for (var k = 0; k < B.length; k++) {
                        C[i][j] += A[i][k] * B[k][j];
                    }
                }
            }
            return C;
        }

        function vectorAdd(A, B) {
            var C = new Array(A.length);
            for (var i = 0; i < A.length; i++) {
                C[i] = new Array(1);
                C[i][0] = A[i][0] + B[i][0];
            }
            return C;
        }

        function vectorDot(A, B) {
            var C = 0;
            for (var i = 0; i < A.length; i++) {
                C += A[i][0] * B[i][0];
            }
            return C;
        }

        function vectorNeg(A) {
            var C = new Array(A.length);
            for (var i = 0; i < A.length; i++) {
                C[i] = new Array(1);
                C[i][0] = -A[i][0];
            }
            return C;
        }

        function vectorNorm(A) {
            magnitude = 0;
            var C = new Array(A.length);
            for (var i = 0; i < A.length; i++) {
                magnitude += A[i][0] * A[i][0];
            }
            magnitude = Math.sqrt(magnitude);
            for (i = 0; i < A.length; i++) {
                C[i] = new Array(1);
                C[i][0] = A[i][0] / magnitude;
            }
            return C;
        }

        function vectorCross3D(A, B) {
            var C = new Array(3);
            C[0] = new Array(1);
            C[0][0] = A[1][0] * B[2][0] - A[2][0] * B[1][0];
            C[1] = new Array(1);
            C[1][0] = A[2][0] * B[0][0] - A[0][0] * B[2][0];
            C[2] = new Array(1);
            C[2][0] = A[0][0] * B[1][0] - A[1][0] * B[0][0];
            return C;
        }

        function roundTo(number, numberOfDecimalPlaces) {
            var roundedNumber = Math.round(number * Math.pow(10, numberOfDecimalPlaces)) / Math.pow(10, numberOfDecimalPlaces);
            return roundedNumber;
        }
    }
});
</script>
</body></html>
